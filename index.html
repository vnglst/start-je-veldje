<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Start je Veldje</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="game-container">
      <h1>🌱 Start je Veldje 🌾</h1>

      <div class="game-stats">
        <div class="stat">💰 Geld: €<span id="money">100</span></div>
        <div class="stat">🌱 Zaden: <span id="seedCount">0</span></div>
        <div class="stat">🍎 Fruit: <span id="fruitCount">0</span></div>
        <div class="stat">🍦 IJs: <span id="iceCreamCount">0</span></div>
        <div class="stat">💧 Water: <span id="water">10</span></div>
        <div class="stat">📅 Dag: <span id="day">1</span></div>
        <div class="stat">🌸 <span id="season">Lente</span></div>
        <div class="stat greenhouse-stat" id="greenhouseStat" style="display: none">🏡 Kas: ✅</div>
      </div>

      <div class="game-area">
        <div class="farm-area">
          <h3 style="text-align: center; color: #8b4513; margin-bottom: 15px" id="farmTitle">🚜 Je Boerderij</h3>

          <!-- Game map with farm and well -->
          <div class="game-map" id="gameMap">
            <!-- Farm plots and well will be generated here -->
          </div>

          <p style="text-align: center; color: #8b4513; font-style: italic; margin-top: 10px">
            Gebruik pijltjestoetsen om te bewegen! Ga naar de winkel 🏪, ijswinkel 🍦, ijsmachine 🏭, put 🏗️ en kas 🏡.
          </p>

          <div class="help-section">
            <details>
              <summary
                style="
                  color: #b8860b;
                  font-weight: bold;
                  cursor: pointer;
                  padding: 8px;
                  background: #fff8dc;
                  border-radius: 6px;
                  margin-bottom: 5px;
                "
              >
                📖 Hoe te spelen (klik om uit te klappen)
              </summary>
              <div
                style="
                  background: #fff8dc;
                  border: 2px solid #daa520;
                  border-radius: 8px;
                  padding: 10px;
                  font-size: 0.85em;
                "
              >
                <ul style="color: #8b4513; line-height: 1.3; padding-left: 20px; margin: 0">
                  <li>🏪 Loop naar de winkel om zaden te kopen</li>
                  <li>🍦 Bezoek de ijswinkel voor een geluksboost</li>
                  <li>🏭 Gebruik de ijsmachine om fruit te verwerken tot ijs</li>
                  <li>💰 Verkoop ijs voor meer winst dan gewoon fruit!</li>
                  <li>🍓 Maak je eigen ijs van verbouwde vruchten!</li>
                  <li>🚶 Beweeg naar een leeg veldje</li>
                  <li>🌱 Klik om te planten</li>
                  <li>🚿 Gebruik gieter mode om water te geven</li>
                  <li>💧 Haal water bij de put 🏗️</li>
                  <li>🔍 Gebruik info mode voor plantdetails</li>
                  <li>🎯 Oogst rijpe gewassen</li>
                  <li>🏡 Koop een kas voor speciale gewassen</li>
                  <li>⌨️ Druk spatie bij gebouwen voor interactie</li>
                </ul>
              </div>
            </details>
          </div>
        </div>

        <div class="sidebar">
          <!-- Tab Navigation -->
          <div class="tab-navigation">
            <button class="tab-button active" onclick="showTab('inventory')">📦 Inventaris</button>
            <button class="tab-button" onclick="showTab('tools')">🛠️ Tools</button>
            <button class="tab-button" onclick="showTab('season')">📅 Seizoen</button>
          </div>

          <!-- Tab Content -->
          <div class="tab-content">
            <!-- Inventory Tab -->
            <div id="tab-inventory" class="tab-panel active">
              <div id="inventoryList">
                <!-- Inventory items worden hier getoond -->
              </div>
            </div>

            <!-- Tools Tab -->
            <div id="tab-tools" class="tab-panel">
              <div class="tools-grid">
                <button class="tool-button" onclick="toggleWateringMode()" id="wateringButton">🚿 Gieter</button>
                <button class="tool-button" onclick="toggleInfoMode()" id="infoButton">🔍 Info</button>
                <button class="tool-button" onclick="getWaterFromWell()">💧 Water</button>
                <button class="tool-button" onclick="interactWithShop()">🏪 Winkel</button>
                <button class="tool-button" onclick="interactWithIceCreamShop()">🍦 IJswinkel</button>
                <button class="tool-button" onclick="interactWithIceCreamMachine()">🏭 IJsmachine</button>
                <button
                  class="tool-button greenhouse-button"
                  onclick="interactWithGreenhouse()"
                  id="greenhouseButton"
                  style="display: none"
                >
                  🏡 Kas
                </button>
              </div>

              <!-- Movement controls (compact) -->
              <div class="movement-section">
                <h4>🚶 Beweging</h4>
                <div class="movement-grid">
                  <div></div>
                  <button class="move-btn" onclick="movePlayer('up')">⬆️</button>
                  <div></div>
                  <button class="move-btn" onclick="movePlayer('left')">⬅️</button>
                  <div class="move-center">🧑‍🌾</div>
                  <button class="move-btn" onclick="movePlayer('right')">➡️</button>
                  <div></div>
                  <button class="move-btn" onclick="movePlayer('down')">⬇️</button>
                  <div></div>
                </div>
                <small>Of gebruik pijltjestoetsen / WASD</small>
              </div>
            </div>

            <!-- Season Tab -->
            <div id="tab-season" class="tab-panel">
              <div id="seasonInfo">
                <!-- Season information will be displayed here -->
              </div>
            </div>
          </div>

          <!-- Action Buttons (Always Visible) -->
          <div class="action-buttons">
            <button class="action-btn sleep-btn" onclick="sleep()">� Ga Slapen</button>

            <div class="utility-buttons">
              <button class="util-btn" onclick="startNewGame()">🔄 Nieuw Spel</button>
              <button class="util-btn" onclick="exportGameData()">� Export</button>
              <button class="util-btn" onclick="importGameData()">📂 Import</button>
              <select
                id="musicSelect"
                class="util-btn"
                style="width: auto; display: inline-block; margin-right: 4px"
                onchange="window.setSongType(this.value)"
              >
                <option value="main">Barok (Vivaldi)</option>
                <option value="spring">Voorjaar (vrolijk)</option>
              </select>
              <button class="util-btn" id="musicToggleBtn" onclick="window.toggleMusic()">🎵 Muziek aan</button>
            </div>
          </div>
        </div>
      </div>

      <div id="messageArea"></div>
    </div>

    <!-- JavaScript bestanden -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script src="muziek.js"></script>
    <script src="gameState.js"></script>
    <script src="ui.js"></script>
    <script src="farm.js"></script>
    <script src="shop.js"></script>
    <script src="shop-interaction.js"></script>
    <script src="ice-cream-shop.js"></script>
    <script src="ice-cream-machine.js"></script>
    <script src="game.js"></script>
    <script src="movement.js"></script>
    <script src="main.js"></script>
    <script>
      // Zet juiste tekst op muziekknop bij laden
      if (window.updateMusicButton) updateMusicButton();
      else {
        window.addEventListener("DOMContentLoaded", function () {
          if (window.updateMusicButton) updateMusicButton();
        });
      }
    </script>
  </body>
</html>
